<!DOCTYPE html>
<html>
	<head>
		<title>Puzzel result</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<script type="module">
			const textArea = document.getElementById("TextArea")

			function tryGetCode(){
				const queryString = window.location.search;
				const urlParams = new URLSearchParams(queryString)
				if (!urlParams.has('D')){
					return [false, ""];
				}
				
				let code = atob(urlParams.get('D'))
				return [true, code];
			}

			window.onload = function() {
				const [hasCode, code] = tryGetCode()
				if (!hasCode){
					console.error("Missing parameter 'D'")
					textArea.innerHTML = "ðŸ˜­";
					return
				}
				textArea.innerHTML = code;
			}

		</script>
	</head>
	<body>
		<p id="TextArea" style="
			text-align: center; 
			width:600px; 
			margin-right:auto;
			margin-left:auto;
			font-size:50px; 
			background-color: grey; 
			color: black;
		"></p>
	</body>
</html>